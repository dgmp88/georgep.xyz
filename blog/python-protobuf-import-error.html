<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/_next/static/css/71c92fabd250eb8f.css" as="style"/><link rel="stylesheet" href="/_next/static/css/71c92fabd250eb8f.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-88a3f25fd4869ee3.js" defer=""></script><script src="/_next/static/chunks/framework-a87821de553db91d.js" defer=""></script><script src="/_next/static/chunks/main-f4ae3437c92c1efc.js" defer=""></script><script src="/_next/static/chunks/pages/_app-5baf163381a95c0f.js" defer=""></script><script src="/_next/static/chunks/cb1608f2-44de1e8eac89ba1d.js" defer=""></script><script src="/_next/static/chunks/956-4349956586589da7.js" defer=""></script><script src="/_next/static/chunks/806-2f96e09d7dbde848.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-bea117c506a34021.js" defer=""></script><script src="/_next/static/4tixyoiUm7oc9ZuD4MjI4/_buildManifest.js" defer=""></script><script src="/_next/static/4tixyoiUm7oc9ZuD4MjI4/_ssgManifest.js" defer=""></script><script src="/_next/static/4tixyoiUm7oc9ZuD4MjI4/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><div><div class="fixed w-screen h-screen" style="z-index:-1;background-image:url(&#x27;/curves.svg&#x27;);background-repeat:no-repeat;background-size:cover"></div></div><div class="absolute navbar text-gray-100"><div class="navbar-start"><div class="dropdown"><label tabindex="0" class="btn btn-ghost lg:hidden"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="bars" class="svg-inline--fa fa-bars " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"></path></svg></label><ul tabindex="0" class="menu menu-compact dropdown-content mt-3 p-2 shadow bg-black/75 rounded-box"><ul class="menu menu-horizontal p-0"><li><a href="/blog">Blog</a></li><li><a href="https://itsgeometry.com">Backgrounds</a></li><li><a href="/games">Games</a></li><li><a href="/cv.pdf">CV</a></li></ul></ul></div><a class="btn btn-ghost normal-case text-xl" href="/">George Prichard</a></div><div class="navbar-end hidden lg:flex"><ul class="menu menu-horizontal p-0"><li><a href="/blog">Blog</a></li><li><a href="https://itsgeometry.com">Backgrounds</a></li><li><a href="/games">Games</a></li><li><a href="/cv.pdf">CV</a></li></ul></div></div><div class="w-2/3 m-auto py-20"><div class="prose lg:prose-lg mx-auto px-4 py-8 bg-base-100/75 rounded-lg "><h1>Python3 Protobuf Import Error</h1><div><h1 id="python3error">Python 3 error</h1>
<p>I'm trying to make the switch to Python 3 at the moment, and was getting incredibly frustrated getting this error when I imported a module using Google's Protocol Buffers:</p>
<pre><code class="python language-python">Traceback (most recent call last):
  File "/usr/local/Cellar/python3/3.5.1/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/google/pr
otobuf/internal/python_message.py", line 1087, in MergeFromString
    if self._InternalParse(serialized, 0, length) != length:
  File "/usr/local/Cellar/python3/3.5.1/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/google/pr
otobuf/internal/python_message.py", line 1109, in InternalParse
    (tag_bytes, new_pos) = local_ReadTag(buffer, pos)
  File "/usr/local/Cellar/python3/3.5.1/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/google/pr
otobuf/internal/decoder.py", line 181, in ReadTag
    while six.indexbytes(buffer, pos) &amp; 0x80:
TypeError: unsupported operand type(s) for &amp;: 'str' and 'int'
</code></pre>
<p>After much messing around and not finding a fix from google, it turns out I had the wrong version of protobuf installed. Very easy fix:</p>
<pre><code>pip3 uninstall protobuf &amp;&amp; pip3 install python3-protobuf
</code></pre>
<p>Hopefully this post helps someone solve the same problem.</p></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"meta":{"title":"Python3 Protobuf Import Error","date":"2017/01/02"},"content":"\u003ch1 id=\"python3error\"\u003ePython 3 error\u003c/h1\u003e\n\u003cp\u003eI'm trying to make the switch to Python 3 at the moment, and was getting incredibly frustrated getting this error when I imported a module using Google's Protocol Buffers:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"python language-python\"\u003eTraceback (most recent call last):\n  File \"/usr/local/Cellar/python3/3.5.1/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/google/pr\notobuf/internal/python_message.py\", line 1087, in MergeFromString\n    if self._InternalParse(serialized, 0, length) != length:\n  File \"/usr/local/Cellar/python3/3.5.1/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/google/pr\notobuf/internal/python_message.py\", line 1109, in InternalParse\n    (tag_bytes, new_pos) = local_ReadTag(buffer, pos)\n  File \"/usr/local/Cellar/python3/3.5.1/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/google/pr\notobuf/internal/decoder.py\", line 181, in ReadTag\n    while six.indexbytes(buffer, pos) \u0026amp; 0x80:\nTypeError: unsupported operand type(s) for \u0026amp;: 'str' and 'int'\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAfter much messing around and not finding a fix from google, it turns out I had the wrong version of protobuf installed. Very easy fix:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003epip3 uninstall protobuf \u0026amp;\u0026amp; pip3 install python3-protobuf\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eHopefully this post helps someone solve the same problem.\u003c/p\u003e"},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"python-protobuf-import-error"},"buildId":"4tixyoiUm7oc9ZuD4MjI4","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>