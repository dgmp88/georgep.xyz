(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[575],{6431:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/triangles",function(){return t(6685)}])},2152:function(e,n,t){"use strict";t.d(n,{Cz:function(){return a},DZ:function(){return u},eP:function(){return i}});var r=t(8670),o=t.n(r),a=["#001219","#005f73","#0a9396","#94d2bd","#e9d8a6","#ee9b00","#ca6702","#bb3e03","#ae2012","#9b2226"],i=["#03045E","#11488e","#032550"],s=o()("white"),l=o()("black"),c=o()("gray");function u(e){if(!o().valid(e))return c;e=o()(e);var n=o().contrast(e,l);return o().contrast(e,s)>n?s:l}},6685:function(e,n,t){"use strict";t.r(n);var r=t(5893),o=t(7294),a=t(5500),i=t(1568),s=t(8670),l=t.n(s),c=t(2152),u=t(2814),d=t(9398);function h(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function f(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function m(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function y(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a=[],i=!0,s=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);i=!0);}catch(l){s=!0,o=l}finally{try{i||null==t.return||t.return()}finally{if(s)throw o}}return a}}(e,n)||p(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,n){if(e){if("string"===typeof e)return h(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?h(e,n):void 0}}var w=c.Cz,x=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b(w);f(this,e),v(this,"refreshPause",150),v(this,"refreshTimeout",void 0),this.n=n,this.border=t,this.colors=r}var n,t,r;return n=e,(t=[{key:"init",value:function(){var e=this;this.draw=(0,a.Wj)().addTo("#svg"),this.setSize(),this.drawTriangles(),window.onresize=function(){var n=e;window.setTimeout((function(){n.setSize(),n.drawTriangles()}))}}},{key:"setSize",value:function(){this.w=window.innerWidth,this.h=window.innerHeight,this.draw.size(this.w,this.h)}},{key:"edgesOfTriangle",value:function(e){return[3*e,3*e+1,3*e+2]}},{key:"pointsOfTriangle",value:function(e){var n=this;return this.edgesOfTriangle(e).map((function(e){return n.delaunay.triangles[e]}))}},{key:"setPoints",value:function(){for(var e=this,n=[],t=function(n){return Math.round((n+2*e.border)*Math.random()-e.border)},r=0;r<this.n;r++)n.push([t(this.w),t(this.h)]);this.points=n}},{key:"drawTriangles",value:function(){this.cscale=l().scale(this.colors),this.setPoints(),this.delaunay=i.Z.from(this.points);for(var e=0;e<this.delaunay.triangles.length/3;e++){var n=this,t=y(this.pointsOfTriangle(e).map((function(e){return n.points[e]})),3),r=y(t[0],2),o=r[0],a=r[1],s=y(t[1],2),c=s[0],u=s[1],d=y(t[2],2),h=d[0],f=d[1],m=(a+u+f)/3,v=((o+c+h)/3/this.w+m/this.h)/2,b=this.cscale(v).hex();this.draw.polygon("".concat(o,",").concat(a," ").concat(c,",").concat(u," ").concat(h,",").concat(f)).fill(b).stroke({width:1,color:b})}}},{key:"refreshAfterPause",value:function(){var e=this;clearTimeout(this.refreshTimeout),this.refreshTimeout=setTimeout((function(){e.refresh()}),this.refreshPause)}},{key:"refresh",value:function(){this.draw.clear(),this.drawTriangles()}},{key:"setN",value:function(e){this.n=e}},{key:"cleanup",value:function(){this.draw.clear(),this.draw.remove()}},{key:"setColors",value:function(e){var n=!0,t=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var i=o.value;if(!l().valid(i))return void console.log("invalid color, not updating")}}catch(s){t=!0,r=s}finally{try{n||null==a.return||a.return()}finally{if(t)throw r}}this.colors=b(e),console.log("colors updated"),this.refresh()}},{key:"download",value:function(){var e=this.draw.svg(),n=new Blob([e],{type:"plain/text"}),t=document.createElement("a"),r=URL.createObjectURL(n);t.href=r,t.download="background.svg",document.body.appendChild(t),t.click(),setTimeout((function(){document.body.removeChild(t),window.URL.revokeObjectURL(r)}),0)}}])&&m(n.prototype,t),r&&m(n,r),e}();n.default=function(){var e=(0,o.useState)(new x),n=e[0],t=(e[1],(0,o.useState)(w)),a=t[0],i=t[1];return(0,o.useEffect)((function(){return n.init(),function(){n.cleanup()}})),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"absolute -z-1",id:"svg"}),(0,r.jsx)("div",{className:"hero min-h-screen",children:(0,r.jsx)("div",{className:"hero-content text-center max-w-xl",children:(0,r.jsxs)("div",{className:"rounded p-5 bg-base-100 bg-opacity-50",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Background Designer"}),(0,r.jsx)("p",{className:"py-6",children:"Resize the window to get the export size you want"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium",children:"Number of triangles"}),(0,r.jsx)("input",{type:"range",min:"10",max:"100",defaultValue:Math.pow(500,.5),className:"range",onChange:function(e){var t=Math.pow(parseInt(e.target.value),2);n.setN(t),n.refreshAfterPause()}})]}),(0,r.jsxs)("div",{className:"pb-2",children:[(0,r.jsx)("div",{className:"font-medium",children:"Colors"}),(0,r.jsx)("div",{className:"flex flex-wrap justify-center",children:a.map((function(e,t){return(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"text",className:"input-sm w-24 m-2 flex-1",style:{backgroundColor:e,color:c.DZ(e)},value:e,onChange:function(e){a[t]=e.target.value,i(b(a)),n.setColors(b(a))}}),(0,r.jsx)("span",{className:"btn btn-error btn-xs",onClick:function(t){var r=a.indexOf(e),o=b(a);o.splice(r,1),i(o),n.setColors(o)},children:(0,r.jsx)(u.G,{icon:d.g82})})]},t)}))}),(0,r.jsx)("span",{className:"btn btn-secondary btn-xs m-3",onClick:function(e){var t=b(a);t.push(l().random().hex()),i(t),n.setColors(t)},children:(0,r.jsx)(u.G,{icon:d.r8p})}),(0,r.jsx)("label",{htmlFor:"my-modal",className:"btn btn-secondary btn-xs m-3 modal-button",children:(0,r.jsx)(u.G,{icon:d.O4})}),(0,r.jsx)("input",{type:"checkbox",id:"my-modal",className:"modal-toggle"}),(0,r.jsx)("div",{className:"modal",children:(0,r.jsxs)("div",{className:"modal-box",children:[(0,r.jsxs)("p",{className:"py-4",children:["Paste colors below. Try"," ",(0,r.jsx)("a",{className:"link",href:"https://coolors.co/",children:"coolors"}),"or"," ",(0,r.jsx)("a",{className:"link",href:"https://www.colourlovers.com/",children:"Colour Lovers"})," ","."," "]}),(0,r.jsx)("textarea",{id:"colorTextArea",className:"bg-slate-200 w-full",placeholder:"#B6211B,#E77833,#ECD817,#98E1F2"}),(0,r.jsx)("div",{class:"modal-action",children:(0,r.jsx)("label",{for:"my-modal",class:"btn",onClick:function(){var e=b(document.getElementById("colorTextArea").value.matchAll(/([0-9a-fA-F]{3}){1,2}/g));(e=e.map((function(e){return"#"+e[0]}))).length>1&&(i(e),n.setColors(e))},children:"Done"})})]})})]}),(0,r.jsxs)("div",{className:"flex justify-center",children:[(0,r.jsx)("button",{className:"btn btn-primary m-2",onClick:function(){return n.refresh()},children:(0,r.jsx)(u.G,{icon:d.T80})}),(0,r.jsx)("button",{className:"btn btn-secondary m-2",onClick:function(){return n.download()},children:(0,r.jsx)(u.G,{icon:d.q7m})})]})]})})})]})}}},function(e){e.O(0,[780,523,670,485,774,888,179],(function(){return n=6431,e(e.s=n);var n}));var n=e.O();_N_E=n}]);