(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[538],{7684:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog/python-protobuf-import-error",function(){return r(7531)}])},8492:function(e,t,r){"use strict";r.d(t,{h:function(){return l}});var n=r(5893),o=r(1664);function l(){return(0,n.jsxs)("div",{className:"navbar",children:[(0,n.jsx)("div",{className:"flex-1",children:(0,n.jsx)(o.default,{href:"/",children:(0,n.jsx)("a",{className:"btn btn-ghost normal-case text-xl",children:"George Prichard"})})}),(0,n.jsx)("div",{className:"flex-none",children:(0,n.jsx)("ul",{className:"menu menu-horizontal p-0",children:(0,n.jsx)("li",{children:(0,n.jsx)(o.default,{href:"/blog",children:"Blog"})})})})]})}},8894:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(5893),o=(r(7294),r(9008)),l=r(3905),a=r(8492);function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var i={};function u(e){var t=e.meta,r=e.route,u=(s(e,["meta","route"]),(0,n.jsxs)(o.default,{children:[(0,n.jsx)("meta",{property:"og:title",content:t.title}),(0,n.jsx)("meta",{property:"og:site_name",content:"George Prichard's blog"}),(0,n.jsx)("meta",{property:"og:description",content:t.description}),(0,n.jsx)("meta",{property:"og:image",content:t.og})]}));return r.startsWith("/blog")?function(e){var r=e.children;return(0,n.jsxs)(n.Fragment,{children:[u,(0,n.jsx)(a.h,{}),(0,n.jsxs)("div",{className:"prose lg:prose-lg mx-auto px-4 py-8",children:[(0,n.jsx)("h2",{children:t.title}),(0,n.jsx)(l.Zo,{components:i,children:r})]})]})}:function(e){var t=e.children;return(0,n.jsxs)(n.Fragment,{children:[u,t]})}}},7531:function(e,t,r){"use strict";r.r(t);r(7294);var n=r(3905),o=r(8894),l=r(3805);function a(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var s=function(e){return(0,l.withSSG)((0,o.Z)({filename:"python-protobuf-import-error.md",route:"/blog/python-protobuf-import-error",meta:{title:"Python3 Protobuf Import Error",date:"2017/01/02"},pageMap:[{name:"blog",children:[{name:"4k-weeks",route:"/blog/4k-weeks",frontMatter:{title:"4,000 Weeks",date:"2022/04/03"}},{name:"expected-value",route:"/blog/expected-value",frontMatter:{title:"What Expected Value Misses",date:"2022/04/17"}},{name:"lunee",route:"/blog/lunee",frontMatter:{title:"Lunee",date:"2022/04/13"}},{name:"prorogation",route:"/blog/prorogation",frontMatter:{title:"How unusual is this prorogation",date:"2019/09/16"}},{name:"python-plotting",route:"/blog/python-plotting",frontMatter:{title:"Python Plotting Libraries",date:"2019/01/20"}},{name:"python-protobuf-import-error",route:"/blog/python-protobuf-import-error",frontMatter:{title:"Python3 Protobuf Import Error",date:"2017/01/02"}},{name:"tensorflow-keras",route:"/blog/tensorflow-keras",frontMatter:{title:"Tensorflow vs Keras",date:"2017/01/02"}}],route:"/blog"}]},null))(e)};function i(e){var t=e.components,r=a(e,["components"]);return(0,n.kt)(s,Object.assign({components:t},r),(0,n.kt)("h1",null,"Python 3 error"),(0,n.kt)("p",null,"I'm trying to make the switch to Python 3 at the moment, and was getting incredibly frustrated getting this error when I imported a module using Google's Protocol Buffers:"),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"language-python",parentName:"pre"},'Traceback (most recent call last):\n  File "/usr/local/Cellar/python3/3.5.1/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/google/pr\notobuf/internal/python_message.py", line 1087, in MergeFromString\n    if self._InternalParse(serialized, 0, length) != length:\n  File "/usr/local/Cellar/python3/3.5.1/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/google/pr\notobuf/internal/python_message.py", line 1109, in InternalParse\n    (tag_bytes, new_pos) = local_ReadTag(buffer, pos)\n  File "/usr/local/Cellar/python3/3.5.1/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/google/pr\notobuf/internal/decoder.py", line 181, in ReadTag\n    while six.indexbytes(buffer, pos) & 0x80:\nTypeError: unsupported operand type(s) for &: \'str\' and \'int\'\n')),(0,n.kt)("p",null,"After much messing around and not finding a fix from google, it turns out I had the wrong version of protobuf installed. Very easy fix:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"pip3 uninstall protobuf && pip3 install python3-protobuf\n")),(0,n.kt)("p",null,"Hopefully this post helps someone solve the same problem."))}i.isMDXComponent=!0,t.default=i}},function(e){e.O(0,[977,774,888,179],(function(){return t=7684,e(e.s=t);var t}));var t=e.O();_N_E=t}]);