(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[575],{6431:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/triangles",function(){return n(6685)}])},2152:function(e,t,n){"use strict";n.d(t,{eP:function(){return r}});var r=["#03045E","#11488e","#032550"]},6685:function(e,t,n){"use strict";n.r(t);var r=n(5893),i=n(7294),a=n(5500),o=n(1568),s=n(8670),l=n.n(s);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||m(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}var y=n(2152).eP,p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v(y);c(this,e),f(this,"refreshPause",150),f(this,"refreshTimeout",void 0),this.n=t,this.border=n,this.colors=r}var t,n,r;return t=e,(n=[{key:"init",value:function(){var e=this;this.draw=(0,a.Wj)().addTo("#svg"),this.setSize(),this.drawTriangles(),window.onresize=function(){var t=e;window.setTimeout((function(){t.setSize(),t.drawTriangles()}))}}},{key:"setSize",value:function(){this.w=window.innerWidth,this.h=window.innerHeight,this.draw.size(this.w,this.h)}},{key:"edgesOfTriangle",value:function(e){return[3*e,3*e+1,3*e+2]}},{key:"pointsOfTriangle",value:function(e){var t=this;return this.edgesOfTriangle(e).map((function(e){return t.delaunay.triangles[e]}))}},{key:"setPoints",value:function(){for(var e=this,t=[],n=function(t){return Math.round((t+2*e.border)*Math.random()-e.border)},r=0;r<this.n;r++)t.push([n(this.w),n(this.h)]);this.points=t}},{key:"drawTriangles",value:function(){this.cscale=l().scale(this.colors).mode("lch"),this.setPoints(),this.delaunay=o.Z.from(this.points);for(var e=0;e<this.delaunay.triangles.length/3;e++){var t=this,n=d(this.pointsOfTriangle(e).map((function(e){return t.points[e]})),3),r=d(n[0],2),i=r[0],a=r[1],s=d(n[1],2),u=s[0],c=s[1],h=d(n[2],2),f=h[0],v=h[1],m=(i+u+f)/3,y=(a+c+v)/3,p=this.cscale((m/this.w+y/this.h)/2).hex();this.draw.polygon("".concat(i,",").concat(a," ").concat(u,",").concat(c," ").concat(f,",").concat(v)).fill(p).stroke({width:1,color:p})}}},{key:"refreshAfterPause",value:function(){var e=this;clearTimeout(this.refreshTimeout),this.refreshTimeout=setTimeout((function(){e.refresh()}),this.refreshPause)}},{key:"refresh",value:function(){this.draw.clear(),this.drawTriangles()}},{key:"setN",value:function(e){this.n=e}},{key:"cleanup",value:function(){this.draw.clear(),this.draw.remove()}},{key:"setColors",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;if(!l().valid(o))return}}catch(s){n=!0,r=s}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}this.colors=e,this.refresh()}},{key:"download",value:function(){var e=this.draw.svg(),t=new Blob([e],{type:"plain/text"}),n=document.createElement("a"),r=URL.createObjectURL(t);n.href=r,n.download="background.svg",document.body.appendChild(n),n.click(),setTimeout((function(){document.body.removeChild(n),window.URL.revokeObjectURL(r)}),0)}}])&&h(t.prototype,n),r&&h(t,r),e}();t.default=function(){var e=(0,i.useState)(new p),t=e[0],n=(e[1],(0,i.useState)(y)),a=n[0],o=n[1];return(0,i.useEffect)((function(){return t.init(),function(){t.cleanup()}})),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"absolute -z-1",id:"svg"}),(0,r.jsx)("div",{className:"hero min-h-screen",children:(0,r.jsx)("div",{className:"hero-content text-center",children:(0,r.jsxs)("div",{className:"rounded p-5 bg-base-100 bg-opacity-50",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Background Designer"}),(0,r.jsx)("p",{className:"py-6",children:"Resize the window to get the export size you want"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium",children:"Number of triangles"}),(0,r.jsx)("input",{type:"range",min:"10",max:"100",defaultValue:Math.pow(500,.5),className:"range",onChange:function(e){var n=Math.pow(parseInt(e.target.value),2);t.setN(n),t.refreshAfterPause()}})]}),(0,r.jsxs)("div",{className:"pb-2",children:[(0,r.jsx)("div",{className:"font-medium",children:"Colors"}),(0,r.jsx)("div",{className:"flex flex-wrap",children:a.map((function(e,n){return(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"text",className:"input-sm w-24 mx-2 flex-1",value:e,onChange:function(e){a[n]=e.target.value,o(v(a)),t.setColors(v(a))}}),(0,r.jsx)("span",{className:"text-red-500",onClick:function(n){var r=a.indexOf(e),i=v(a);i.splice(r,1),o(i),t.setColors(i)},children:"x"})]},n)}))})]}),(0,r.jsx)("button",{className:"btn btn-secondary",onClick:function(){return t.refresh()},children:"Refresh"}),(0,r.jsx)("button",{className:"btn btn-primary",onClick:function(){return t.download()},children:"Download SVG"})]})})})]})}}},function(e){e.O(0,[780,670,568,774,888,179],(function(){return t=6431,e(e.s=t);var t}));var t=e.O();_N_E=t}]);